---
layout: post
title:  "데이터 준비부터 시각화까지"
parent: Data Science
nav_order: 3
date:   2022-02-18 21:20:00 +0900
---
# Preparation, Exploration, and Visualization
{: .no_toc }

<details open markdown="block">
  <summary>
    목차
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>

## 데이터 준비
---
실제 데이터는 매우 더러운 상태 (값이 없거나 잘못된 값이거나..)이기 때문에 오류, 잘못된 결과, 편향된 (biased) 결과를 방지하기 위해 필요한 단계

||Sara|Lis|Hadrien|Lis|
|---|---|---|---|---|
|Age|"27"|"30"||"30"|
|Size|1.77|5.58|1.80|5.58|
|Country|"Belgium"|"USA"|"FR"|"USA"|

### Tidy data
변수 (나이, 키, 국적)를 column에, 각 관측치 (Sara, Lis, Hadrien, Lis)는 row로

|Name|Age|Size|Country|
|---|---|---|---|
|Sara|"26"|1.78|"Belgium"|
|Lis|"30"|5.58|"USA"|
|Hadrien||1.80|"FR"|
|Lis|"30"|5.58|"USA"|

### 중복된 데이터 제거

|Name|Age|Size|Country|
|---|---|---|---|
|Sara|"26"|1.78|"Belgium"|
|Lis|"30"|5.58|"USA"|
|Hadrien||1.80|"FR"|

### 고유 ID 부여하기
이름이 같을 경우 어떻게 구별할 것인가?

|ID|Name|Age|Size|Country|
|---|---|---|---|---|
|0|Sara|"26"|1.78|"Belgium"|
|1|Lis|"30"|5.58|"USA"|
|2|Hadrien||1.80|"FR"|

### Homogeneity
- 키의 단위 (`feet`, `m`)가 나라마다 다르기 때문에 `m`로 통일
- 국적명을 2개의 이니셜로 통일

|ID|Name|Age|Size|Country|
|---|---|---|---|---|
|0|Sara|"26"|1.78|"BE"|
|1|Lis|"30"|1.70|"US"|
|2|Hadrien||1.80|"FR"|

### 데이터 타입
- `Age`는 숫자이기 때문에 INT 타입으로 변환

|ID|Name|Age|Size|Country|
|---|---|---|---|---|
|0|Sara|26|1.78|"BE"|
|1|Lis|30|1.70|"US"|
|2|Hadrien||1.80|"FR"|

### Missing values
오류일수도 있고, 의도된 것 (사용자가 기입하지 않음)일 수도 있다.
- 값을 특정 값 (나머지 값들의 평균)으로 채워넣거나, 나머지 값도 다 버리거나, 그냥 그대로 둘 수도 있음

|ID|Name|Age|Size|Country|
|---|---|---|---|---|
|0|Sara|26|1.78|"BE"|
|1|Lis|30|1.70|"US"|
|2|Hadrien|28|1.80|"FR"|

## EDA (Exploratory Data Analysis)
---
1. 데이터를 관찰한다
2. 가설을 세운다
3. 특징을 검증한다
4. 시각화한다


|x1|y1|x2|y2|x3|y3|x4|y4|
|---|---|---|---|---|---|---|---|
|10.0 |8.04 |10.0 |9.14 |10.0 |7.46 |8.0  |6.58 |
|8.0  |6.95 |8.0  |8.14 |8.0  |6.77 |8.0  |5.76 |
|13.0 |7.58 |13.0 |8.74 |13.0 |12.74|8.0  |7.71 |
|9.0  |8.81 |9.0  |8.77 |9.0  |7.11 |8.0  |8.84 |
|11.0 |8.33 |11.0 |9.26 |11.0 |7.81 |8.0  |8.47 |
|14.0 |9.96 |14.0 |8.10 |14.0 |8.84 |8.0  |7.04 |
|6.0  |7.24 |6.0  |6.13 |6.0  |6.08 |8.0  |5.25 |
|4.0  |4.26 |4.0  |3.10 |4.0  |5.39 |19.0 |12.50|
|12.0 |10.84|12.0 |9.13 |12.0 |8.15 |8.0  |5.56 |
|7.0  |4.82 |7.0  |7.26 |7.0  |6.42 |8.0  |7.91 |
|5.0  |5.68 |5.0  |4.74 |5.0  |5.73 |8.0  |6.89 |

$(x_{i}, y_{i})$로 구성된 4개의 데이터셋이 있을 때, 이들은 유사한 특성을 갖는다.
- $x$의 평균과 분산이 동일
- $y$의 평균과 분산이 동일
- 상관계수 동일
- 선형 회귀 방정식 동일

각 데이터셋의 선형 회귀 방정식을 시각화해보자. 

![data_1](../../../assets/images/2022-02-18-image-1.png)

## 대시보드 (Interactive Dashboards)
---
- Color의 사용은 반드시 목적이 있어야한다
    - 연도별로 색상을 다르게 할 필요가 있는가?
    - `Red, Green`이 가장 많이 사용됨
- 가독성 좋은 글꼴: `sans-serif`
- 그래프에 라벨링: 제목, 가로/세로 축, 범례 (legend)
- 축: 서로 비교하는 값의 대소 관계가 명확하도록
     



